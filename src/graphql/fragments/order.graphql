fragment Money on Money {
  currency
  amount
}

# --------------------------------------
fragment OrderLineFragment on OrderLine {
  id
  quantity
  variant {
    name
    attributes(variantSelection: ALL) {
      values {
        name
        dateTime
        boolean
        translation(languageCode: $languageCode) {
          name
        }
      }
    }
  }
  totalPrice {
    gross {
      ...Money
    }
  }
  undiscountedUnitPrice {
    gross {
      ...Money
    }
  }
  unitPrice {
    gross {
      ...Money
    }
  }
  productName
  variantName
  thumbnail(size: 128, format: WEBP) {
    alt
    url
  }
}

fragment ShippingFragment on ShippingMethod {
  name
  minimumDeliveryDays
  maximumDeliveryDays
}

fragment OrderFragment on Order {
  id
  number
  status
  created
  userEmail
  isPaid
  discounts {
    type
    name
    amount {
      ...Money
    }
  }
  chargeStatus
  authorizeStatus
  shippingAddress {
    ...AddressFragment
  }
  billingAddress {
    ...AddressFragment
  }
  deliveryMethod {
    ...ShippingFragment
  }
  total {
    gross {
      ...Money
    }
    tax {
      ...Money
    }
  }
  voucher {
    code
  }
  shippingPrice {
    gross {
      ...Money
    }
  }
  subtotal {
    gross {
      ...Money
    }
  }
  lines {
    ...OrderLineFragment
  }
  totalBalance {
    ...Money
  }
  totalCaptured {
    ...Money
  }
}
# --------------------------------------
fragment OrderBasic on Order {
  id
  number
  created
  status
  total {
    gross {
      ...Money
    }
  }
}

# Detailed order information
fragment OrderDetails on Order {
  ...OrderBasic

  shippingAddress {
    firstName
    lastName
    companyName
    streetAddress1
    streetAddress2
    city
    cityArea
    postalCode
    country {
      code
      country
    }
    phone
  }
  billingAddress {
    firstName
    lastName
    companyName
    streetAddress1
    streetAddress2
    city
    cityArea
    postalCode
    country {
      code
      country
    }
    phone
  }
  userEmail
  lines {
    id
    productName
    variantName
    quantity
    unitPrice {
      gross {
        ...Money
      }
    }
    totalPrice {
      gross {
        ...Money
      }
    }
    thumbnail {
      url
    }
  }

  # 	lines {
  # 	# variant {
  # 	# 	id
  # 	# 	name
  # 	# 	product {
  # 	# 		id
  # 	# 		name
  # 	# 		description
  # 	# 		slug
  # 	# 		thumbnail {
  # 	# 			url
  # 	# 			alt
  # 	# 		}
  # 	# 		category {
  # 	# 			id
  # 	# 			name
  # 	# 		}
  # 	# 	}
  # 	# 	pricing {
  # 	# 		price {
  # 	# 			gross {
  # 	# 				amount
  # 	# 				currency
  # 	# 			}
  # 	# 		}
  # 	# 	}
  # 	# }
  # 	quantity
  # }
  subtotal {
    gross {
      ...Money
    }
  }
  shippingPrice {
    gross {
      ...Money
    }
  }

  paymentStatus
}

# Order fulfillment information
fragment OrderFulfillment on Order {
  id
  number
  fulfillments {
    id
    status
    trackingNumber
    created
    lines {
      id
      quantity
      orderLine {
        id
        productName
        variantName
      }
    }
  }
}
